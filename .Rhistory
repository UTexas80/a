## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
View(abc.data)
abc.data[ , per := prop.table(`sum(units)`) , by = "item"]
class(abc.data)
abc.data %>%
tabyl(item, units) %>%
adorn_percentages("col")
abc.data %>%
tabyl(item, units) %>%
adorn_percentages("row")
abc.data %>%
tabyl(units, item) %>%
adorn_percentages("col")
abc.data %>%
tabyl(item, units) %>%
adorn_percentages("col")
abc.data %>%
tabyl(item, units) %>%
adorn_percentages("row")
mtcars %>%
tabyl(item, units) %>%
adorn_totals("row") %>%
adorn_percentages()
mtcars %>%
tabyl(item, units)) %>%
adorn_totals("row") %>%
adorn_percentages()
abc.data  %>%
tabyl(item, units)) %>%
adorn_totals("row") %>%
adorn_percentages()
abc.data  %>%
tabyl(item, units)) %>%
adorn_totals("col") %>%
adorn_percentages()
abc.data %>%
tabyl(item, units) %>%
adorn_totals("row") %>%
adorn_percentages()
abc.data %>%
tabyl(item,) %>%
adorn_totals("row") %>%
adorn_percentages()
group_by(abc.data, item) %>% mutate(percent = units/sum(units))
group_by(abc.data[,4:6], item) %>% mutate(percent = units/sum(units))
group_by(abc.data[,4:5], item) %>% mutate(percent = units/sum(units))
data.table::cube(abc.data, j=sum(units), by="item")
x<-data.table::cube(abc.data, j=sum(units), by="item")
abc.data,[ , `percentage(counts)` := `sum(units)` / sum( `sum(units)` ) * 100 , by = "item" ]
abc.data[ , `percentage(counts)` := `sum(units)` / sum( `sum(units)` ) * 100 , by = "item" ]
abc.data[ , `percentage(counts)` := `sum(units)` / sum( `sum(units)` ) * 100 , by = 'item']
abc.data[ , perc := sum(units) / sum( sum(units) ) * 100 , by = 'item']
abc.data
abc.data[ , pct := sum(units) / sum( sum(units) ) * 100, by = item]
abc.data
x
abc.data  =  mutate(abc.data,
pct_item      = units / sum(units)) %>%
adorn_totals("row")                                        # grand total
x  =  mutate(x,
pct_item      = V1 / sum(V1)) %>%
adorn_totals("row")                                        # grand total
x
x  =  x[1:5]
x
x  =  mutate(x,
pct_item      = V1 / sum(V1)) %>%
adorn_totals("row")                                        # grand total
x<-data.table::cube(abc.data, j=sum(units), by="item")
x
rm(x)
x
x<-data.table::cube(abc.data, j=sum(units), by="item")
x
abc.data
source('~/Documents/GitHub/abc/abc.r')
View(config)
source('~/Documents/GitHub/abc/abc.r')
View(abc.data)
################################################################################
## Step 01.02 - set the tables                                               ###
################################################################################
dt_abc_data <- data.table::cube(abc.data, j=sum(units), by="item")
dt_abc_data
################################################################################
## Step 01.02 - set the tables                                               ###
################################################################################
dt_abc_data <- data.table::cube(abc.data, j=sum(units), by="item")[,-.N]
dt_abc_data
################################################################################
## Step 01.02 - set the tables                                               ###
################################################################################
dt_abc_data <- data.table::cube(abc.data, j=sum(units), by="item")[-.N]
dt_abc_data
x  =  mutate(x,
pct_item      = V1 / sum(V1)) %>%
adorn_totals("row")                                        # grand total
dt_abc_data  =  mutate(dt_abc_data,
pct_item      = V1 / sum(V1)) %>%
adorn_totals("row")                                        # grand total
dt_abc_data
source('~/Documents/GitHub/abc/abc.r')
dt_abc_data =   data.table(
mutate(dt_abc_data,
pct_item      = V1 / sum(V1)) %>%
adorn_totals("row")                              # grand total
)
source('~/Documents/GitHub/abc/abc.r')
View(dt_abc_profit)
View(dt_abc_data)
View(dt_abc_profit)
View(abc.data)
View(dt_abc_data)
source('~/Documents/GitHub/abc/abc.r')
View(dt_abc_items)
source('~/Documents/GitHub/abc/abc.r')
View(dt_abc_items)
source('~/Documents/GitHub/abc/abc.r')
View(dt01_abc_items)
plot_ly(dt01_abc_items,
x       = ~item,
y       = ~items,
marker  = list(color = '#BA0C2F'),
name    = 'HOPE',
type    = 'bar')
plot_ly(dt01_abc_items,
x       = ~item,
y       = ~pct_item,
marker  = list(color = '#BA0C2F'),
name    = 'Item Count',
type    = 'bar')
plot_ly(dt01_abc_items[-.N],
x       = ~item,
y       = ~pct_item,
marker  = list(color = '#BA0C2F'),
name    = 'Item Count',
type    = 'bar')
plot_ly(dt01_abc_items[-.N],
x       = ~item,
y       = ~pct_item,
marker  = list(color = '#BA0C2F'),
name    = 'Item Count',
type    = 'bar') %>%             layout(  title    = "Max HOPE & ZELL Awards Compared to Tuition",
xaxis   = list(title = "Academic Year",    tickangle = -45),
yaxis   = list(title = "Max Award Amount", tickformat = "%"))
p01a1_bar <-  plot_ly(dt01_abc_items[-.N],
x       = ~item,
y       = ~pct_item,
marker  = list(color = '#BA0C2F'),
name    = 'Item Count',
type    = 'bar') %>%
layout( title   = "Max HOPE & ZELL Awards Compared to Tuition",
xaxis   = list(
title = "Academic Year",
tickangle = -45),
yaxis   = list(
title = "Max Award Amount",
tickformat = "%"))
p01a1_bar <-  plot_ly(dt01_abc_items[-.N],
x         = ~item,
y         = ~pct_item,
marker    = list(color = '#BA0C2F'),
name      = 'Item Count',
type      = 'bar') %>%
layout( title     = "ABC Company - Percentage of Items Sold",
xaxis     = list(
title   = "Academic Year",
tickangle = -45),
yaxis     = list(
title   = "Max Award Amount",
tickformat = "%"))
p01a1_bar
p01a1_bar <-  plot_ly(dt01_abc_items[-.N],
x         = ~item,
y         = ~pct_item,
marker    = list(color = '#BA0C2F'),
name      = 'Item Count',
type      = 'bar') %>%
layout( title     = "ABC Company - Percentage of Items Sold",
xaxis     = list(
title   = "Item",
tickangle = -45),
yaxis     = list(
title   = "Max Award Amount",
tickformat = "%"))
p01a1_bar
x         = ~item,
y         = ~pct_item,
marker    = list(color = '#012169'),
name      = 'Item Count',
type      = 'bar') %>%
layout( title     = "ABC Company - Percentage of Items Sold",
xaxis     = list(
title   = "Item",
tickangle = -45),
yaxis     = list(
title   = "Max Award Amount",
tickformat = "%"))
plot_ly(dt01_abc_items[-.N],
x         = ~item,
y         = ~pct_item,
marker    = list(color = '#012169'),
name      = 'Item Count',
type      = 'bar') %>%
layout( title     = "ABC Company - Percentage of Items Sold",
xaxis     = list(
title   = "Item",
tickangle = -45),
yaxis     = list(
title   = "Max Award Amount",
tickformat = "%"))
source('~/Documents/GitHub/abc/abc.r')
keyring::key_set("plot.ly", "UTexas80")
source('~/Documents/GitHub/abc/abc.r')
glimpse(dt01_abc_items)
source('~/Documents/GitHub/abc/abc.r')
glimpse(dt01_items_sold)
library(data.table)
library(dplyr)
library(flextable)
library(kableExtra)
library(officer)
knitr::opts_chunk$set(echo = FALSE)
options(tinytex.verbose = TRUE)
# ------------------------------------------------------------------------------
dt01_items_sold <- setDT(data.table(readRDS(here::here("/rds", "dt01_items_sold"))))
# ------------------------------------------------------------------------------
knitr::include_graphics(here::here('images/duke.png'))
knitr::include_graphics(here::here('png/p01a1_bar.png'))
library(data.table)
library(dplyr)
library(flextable)
library(kableExtra)
library(officer)
knitr::opts_chunk$set(echo = FALSE)
options(tinytex.verbose = TRUE)
# ------------------------------------------------------------------------------
dt01_items_sold <- setDT(data.table(readRDS(here::here("/rds", "dt01_items_sold"))))
# ------------------------------------------------------------------------------
knitr::include_graphics(here::here('images/duke.png'))
knitr::include_graphics(here::here('png/p01a1_bar.png'))
ft_items_sold <- flextable(dt01_items_sold
) %>%
set_header_labels(
item               = "Item Name",
count              = "Count",
pct_item            = "% Items Sold"
) %>%  colformat_num(
j                  = 2,
big.mark           = ",",
digits             = 0,
na_str             = "",
prefix             = ""
) %>%
colformat_num(
i                  = 3,
digits             = 2,
na_str             = "",
suffix             = "%"
) %>%
width(j = 1,   width = 2.00
) %>%
width(j = 2:5, width = 1.00
) %>%
width(j = 6,   width = 0.60
) %>%
fontsize(size = 8.25, part = "all"
) %>%
fit_to_width(max_width = 8.50) %>%
set_caption("")
ft_items_sold <- flextable(dt01_items_sold
) %>%
set_header_labels(
item               = "Item Name",
count              = "Count",
pct_item            = "% Items Sold"
) %>%  colformat_num(
j                  = 2,
big.mark           = ",",
digits             = 0,
na_str             = "",
prefix             = ""
) %>%
colformat_num(
i                  = 3,
digits             = 2,
na_str             = "",
suffix             = "%"
) %>%
width(j = 1,   width = 2.00
) %>%
width(j = 2:3, width = 1.00
) %>%
fontsize(size = 8.25, part = "all"
) %>%
fit_to_width(max_width = 8.50) %>%
set_caption("")
ft_items_sold
ft_items_sold <- flextable(dt01_items_sold
) %>%
set_header_labels(
item               = "Item Name",
count              = "Count",
pct_item            = "% Items Sold"
) %>%  colformat_num(
j                  = 2,
big.mark           = ",",
digits             = 0,
na_str             = "",
prefix             = ""
) %>%
colformat_num(
j                  = 3,
digits             = 2,
na_str             = "",
suffix             = "%"
) %>%
width(j = 1,   width = 2.00
) %>%
width(j = 2:3, width = 1.00
) %>%
fontsize(size = 8.25, part = "all"
) %>%
fit_to_width(max_width = 8.50) %>%
set_caption("")
ft_items_sold
dt01_items_sold
dt01_items_sold <-  data.table::cube(abc.data, j=sum(units), by="item")[-.N]
dt01_items_sold =   data.table(
mutate(dt01_items_sold,
pct_item      = (V1 / sum(V1)) * 100) %>%
adorn_totals("row")                              # grand total
)
names(dt01_items_sold)[2] <- "count"
dt01_items_sold
saveRDS(dt01_items_sold,       file = here::here("rds/", "dt01_items_sold"))
library(data.table)
library(dplyr)
library(flextable)
library(kableExtra)
library(officer)
knitr::opts_chunk$set(echo = FALSE)
options(tinytex.verbose = TRUE)
# ------------------------------------------------------------------------------
dt01_items_sold <- setDT(data.table(readRDS(here::here("/rds", "dt01_items_sold"))))
# ------------------------------------------------------------------------------
knitr::include_graphics(here::here('images/duke.png'))
knitr::include_graphics(here::here('png/p01a1_bar.png'))
ft_items_sold <- flextable(dt01_items_sold
) %>%
set_header_labels(
item               = "Item Name",
count              = "Count",
pct_item            = "% Items Sold"
) %>%  colformat_num(
j                  = 2,
big.mark           = ",",
digits             = 0,
na_str             = "",
prefix             = ""
) %>%
colformat_num(
j                  = 3,
digits             = 2,
na_str             = "",
suffix             = "%"
) %>%
width(j = 1,   width = 2.00
) %>%
width(j = 2:3, width = 1.00
) %>%
fontsize(size = 8.25, part = "all"
) %>%
fit_to_width(max_width = 8.50) %>%
set_caption("")
ft_items_sold
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
tinytex::reinstall_tinytex()
library(tinytex)
install.packages("tinytex")
install.packages('tinytex')
tinytex::install_tinytex()
install.packages("tinytex")
source('~/Documents/GitHub/abc/abc.r')
ProjectTemplate::migrate.project()
source('~/Documents/GitHub/abc/abc.r')
ProjectTemplate::migrate.project()
migrate.project()
source('~/Documents/GitHub/abc/abc.r')
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
install.packages("tinytex")
tinytex::install_tinytex()
install.packages("tinytex")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
source('~/Documents/GitHub/abc/abc.r')
getwd()
setwd("/Users/falkfamilyDocuments/GitHub/abc/")
getwd()
source('~/Documents/GitHub/abc/abc.r')
tinytex::install_tinytex(force = TRUE)
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
webshot::install_phantomjs().
webshot::install_phantomjs()
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
################################################################################
## Step 99.03: Processing                                                    ###
################################################################################
# rmarkdown::run("./dashboard/Flexdashboard.Rmd")
bookdown::render_book("01-intro.Rmd", output_format = "bookdown::pdf_document2")
